import{_ as o,b as p,o as h,i as k,R as a,j as s,g as n,w as l,S as t}from"./chunks/framework.Caqowgrb.js";const Ts=JSON.parse('{"title":"从 v5 迁移","description":"","frontmatter":{},"headers":[],"relativePath":"guide/migration-from-v5.md","filePath":"guide/migration-from-v5.md"}'),r={name:"guide/migration-from-v5.md"},d={class:"language-ts"},E={class:"shiki shiki-themes github-light github-dark twoslash lsp",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabindex:"0",dir:"ltr"},g={class:"line"},y={style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},u={style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},F={class:"line"},v={style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},m={style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},f={class:"line"},w={style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},C={class:"line"},A={style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},b={class:"line"},D={style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},B={class:"line"},c={style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},S={class:"line"},P={style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},M={style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"}},V={style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"}},T={style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"}},j={class:"line"},N={style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},x={style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},I={class:"line"},R={style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},q={class:"line"},O={style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},H={style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},G={style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},L={class:"line"},J={style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},U={style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},W={class:"line"},$={style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},z={style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},Y={class:"line"},K={style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},Q={class:"line"},X={style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},Z={style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},_={style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},ss={style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},is={style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},ls={style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},ts={style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},es={class:"line"},ns={style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},as={class:"line"},os={style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},ps={style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},hs={style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},ks={class:"line"},rs={style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},ds={class:"line"},Es={style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},gs={class:"line"},ys={style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},us={class:"line"},Fs={style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},vs={class:"line"},ms={style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},fs={class:"line"},ws={style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},Cs={style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},As={style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},bs={style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}};function Ds(Bs,i,cs,Ss,Ps,Ms){const e=p("v-menu");return h(),k("div",null,[i[228]||(i[228]=a(`<h1 id="migration-from-v5" tabindex="-1">从 v5 迁移 <a class="header-anchor" href="#migration-from-v5" aria-label="Permalink to “从 v5 迁移”">​</a></h1><h2 id="environment-api" tabindex="-1">环境 API <a class="header-anchor" href="#environment-api" aria-label="Permalink to “环境 API”">​</a></h2><p>作为新的实验性 <a href="/guide/api-environment">环境 API</a> 的一部分，我们进行了大规模的内部重构。Vite 6 努力避免引入破坏性的变更，以确保大多数项目能够快速升级到新的主要版本。我们会等待大部分的生态系统迁移并稳定后，再开始推荐使用新的 API。可能会有一些边缘情况，但这些应该只会影响到框架和工具的底层使用。我们已经与生态系统中的维护者合作，在发布前减轻了这些差异。如果你发现了回退性问题，请 <a href="https://github.com/vitejs/vite/issues/new?assignees=&amp;labels=pending+triage&amp;projects=&amp;template=bug_report.yml" target="_blank" rel="noreferrer">新建 issue</a>。</p><p>由于 Vite 的实现发生了改变，一些内部的 API 已经被移除了。如果你依赖于其中的某一个，那么请创建一个 <a href="https://github.com/vitejs/vite/issues/new?assignees=&amp;labels=enhancement%3A+pending+triage&amp;projects=&amp;template=feature_request.yml" target="_blank" rel="noreferrer">feature request</a>。</p><h2 id="vite-runtime-api" tabindex="-1">Vite Runtime API <a class="header-anchor" href="#vite-runtime-api" aria-label="Permalink to “Vite Runtime API”">​</a></h2><p>实验性的 Vite Runtime API 已经演变为模块运行器 API（Module Runner API），这是作为新的实验性 <a href="/guide/api-environment">环境 API</a> 的一部分，在 Vite 6 中发布。鉴于这个功能是实验性的，所以在 Vite 5.1 中引入的先前 API 的移除并不是一个破坏性的更改，但是用户在迁移到 Vite 6 的过程中，需要将他们的使用方式更新为与模块运行器相等的方式。</p><h2 id="general-changes" tabindex="-1">总体变化 <a class="header-anchor" href="#general-changes" aria-label="Permalink to “总体变化”">​</a></h2><h3 id="default-value-for-resolve-conditions" tabindex="-1"><code>resolve.conditions</code> 的默认值 <a class="header-anchor" href="#default-value-for-resolve-conditions" aria-label="Permalink to “resolve.conditions 的默认值”">​</a></h3><p>此更改不会影响未配置 <a href="/config/shared-options#resolve-conditions"><code>resolve.conditions</code></a> / <a href="/config/ssr-options#ssr-resolve-conditions"><code>ssr.resolve.conditions</code></a> / <a href="/config/ssr-options#ssr-resolve-externalconditions"><code>ssr.resolve.externalConditions</code></a> 的用户。</p><p>在 Vite 5 中，<code>resolve.conditions</code> 的默认值是 <code>[]</code>，某些条件是内部添加的。<code>ssr.resolve.conditions</code> 的默认值是 <code>resolve.conditions</code> 的值。</p><p>从 Vite 6 开始，部分条件不再在内部添加，需要包含在配置值中。 不再在内部添加的条件为</p><ul><li><code>resolve.conditions</code> 是 <code>[&#39;module&#39;, &#39;browser&#39;, &#39;development|production&#39;]</code></li><li><code>ssr.resolve.conditions</code> 是 <code>[&#39;module&#39;, &#39;node&#39;, &#39;development|production&#39;]</code></li></ul><p>这些选项的默认值会更新为相应的值，<code>ssr.resolve.conditions</code> 不再使用 <code>resolve.conditions</code> 作为默认值。请注意，<code>development|production</code>是一个特殊变量，会根据 <code>process.env.NODE_ENV</code> 的值被替换为 <code>production</code> 或 <code>development</code>。这些默认值从 <code>vite</code> 导出为 <code>defaultClientConditions</code> 和 <code>defaultServerConditions</code>。</p><p>如果为 <code>resolve.conditions</code> 或 <code>ssr.resolve.conditions</code> 指定了自定义值，则需要更新该值以包含新条件。 例如，如果先前为 <code>resolve.conditions</code> 指定了 <code>[&#39;custom&#39;]</code>，那么现在就需要指定 <code>[&#39;custom&#39;, ...defaultClientConditions]</code>。</p><h3 id="json-stringify" tabindex="-1">JSON stringify <a class="header-anchor" href="#json-stringify" aria-label="Permalink to “JSON stringify”">​</a></h3><p>在 Vite 5 中，当设置 <a href="/config/shared-options#json-stringify"><code>json.stringify: true</code></a> 时，<a href="/config/shared-options#json-namedexports"><code>json.namedExports</code></a> 会被禁用。</p><p>从 Vite 6 开始，即使设置了 <code>json.stringify: true</code>，<code>json.namedExports</code> 也不会被禁用。如果希望实现以前的行为，可以设置 <code>json.namedExports: false</code>。</p><p>Vite 6 还为 <code>json.stringify</code> 引入了一个新的默认值，即 <code>&#39;auto&#39;</code>，它只会对大型 JSON 文件进行字符串化处理。要禁用此行为，请设置 <code>json.stringify: false</code>。</p><h3 id="extended-support-of-asset-references-in-html-elements" tabindex="-1">在 HTML 元素中扩展对资源引用的支持 <a class="header-anchor" href="#extended-support-of-asset-references-in-html-elements" aria-label="Permalink to “在 HTML 元素中扩展对资源引用的支持”">​</a></h3><p>在 Vite 5 中，只有少数支持的 HTML 元素能够引用由 Vite 处理和打包的资源，如<code>&lt;link href&gt;</code>、<code>&lt;img src&gt;</code> 等。</p><p>Vite 6 扩展了对更多 HTML 元素的支持。完整列表请参见 <a href="/guide/features.html#html">HTML 功能介绍</a> 文档。</p><p>要在某些元素上选择不进行 HTML 处理，可以在元素上添加 <code>vite-ignore</code> 属性。</p><h3 id="postcss-load-config" tabindex="-1">postcss-load-config <a class="header-anchor" href="#postcss-load-config" aria-label="Permalink to “postcss-load-config”">​</a></h3><p><a href="https://npmjs.com/package/postcss-load-config" target="_blank" rel="noreferrer"><code>postcss-load-config</code></a> 已从 v4 更新至 v6。现在需要 <a href="https://www.npmjs.com/package/tsx" target="_blank" rel="noreferrer"><code>tsx</code></a> 或 <a href="https://www.npmjs.com/package/jiti" target="_blank" rel="noreferrer"><code>jiti</code></a> 来加载 TypeScript postcss 配置文件，而非 <a href="https://www.npmjs.com/package/ts-node" target="_blank" rel="noreferrer"><code>ts-node</code></a>。此外，现在需要 <a href="https://www.npmjs.com/package/yaml" target="_blank" rel="noreferrer"><code>yaml</code></a> 来加​​载 YAML postcss 配置文件。</p><h3 id="sass-now-uses-modern-api-by-default" tabindex="-1">Sass 现在默认使用现代 API <a class="header-anchor" href="#sass-now-uses-modern-api-by-default" aria-label="Permalink to “Sass 现在默认使用现代 API”">​</a></h3><p>在 Vite 5 中，Sass 默认使用传统 API。Vite 5.4 增加了对现代 API 的支持。</p><p>从 Vite 6 开始，Sass 默认使用现代 API。如果想继续使用传统 API，可以设置 <a href="/config/shared-options#css-preprocessoroptions"><code>css.preprocessorOptions.sass.api: &#39;legacy&#39;</code> / <code>css.preprocessorOptions.scss.api: &#39;legacy&#39;</code></a>。但请注意，传统 API 支持将在 Vite 7 中移除。</p><p>要迁移到现代 API，请参阅 <a href="https://sass-lang.com/documentation/breaking-changes/legacy-js-api/" target="_blank" rel="noreferrer">Sass 文档</a>。</p><h3 id="customize-css-output-file-name-in-library-mode" tabindex="-1">在 library 模式下自定义 CSS 输出文件名 <a class="header-anchor" href="#customize-css-output-file-name-in-library-mode" aria-label="Permalink to “在 library 模式下自定义 CSS 输出文件名”">​</a></h3><p>在 Vite 5 中，library 模式下的 CSS 输出文件名始终是 <code>style.css</code>，无法通过 Vite 配置轻松更改。</p><p>从 Vite 6 开始，默认文件名将使用 <code>package.json</code> 中的 <code>&quot;name&quot;</code>，与 JS 输出文件类似。如果 <a href="/config/build-options#build-lib"><code>build.lib.fileName</code></a> 设置为字符串，该值也将用于 CSS 输出文件名。要明确设置不同的 CSS 文件名，可以使用新的 <a href="/config/build-options#build-lib"><code>build.lib.cssFileName</code></a> 进行配置。</p><p>迁移时，如果您依赖于 <code>style.css</code> 文件名，则应根据软件包名称将对该文件的引用更新为新名称。例如:</p><div class="vp-code-block-title"><div class="vp-code-block-title-bar"><span class="vp-code-block-title-text" data-title="package.json">package.json</span></div><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark has-diff" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;name&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;my-lib&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;exports&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line diff remove"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;./style.css&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./dist/style.css&quot;</span></span>
<span class="line diff add"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;./style.css&quot;</span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;./dist/my-lib.css&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div></div><p>如果你更喜欢像在 Vite 5 中那样使用 <code>style.css</code>，可以设置 <code>build.lib.cssFileName: &#39;style&#39;</code>。</p><h2 id="advanced" tabindex="-1">进阶 <a class="header-anchor" href="#advanced" aria-label="Permalink to “进阶”">​</a></h2><p>还有其他一些只影响少数用户的破坏性更改。</p>`,36)),s("ul",null,[i[227]||(i[227]=a('<li><p><a href="https://github.com/vitejs/vite/pull/17922" target="_blank" rel="noreferrer">[#17922] fix(css)!: remove default import in ssr dev</a></p><ul><li>对 CSS 文件默认导入的支持在 Vite 4 中<a href="https://v4.vite.dev/guide/migration.html#importing-css-as-a-string" target="_blank" rel="noreferrer">已被弃用</a>，并在 Vite 5 中被移除，但在 SSR 开发模式中仍被无意支持。现在该支持已被移除。</li></ul></li><li><p><a href="https://github.com/vitejs/vite/pull/15637" target="_blank" rel="noreferrer">[#15637] fix!: default <code>build.cssMinify</code> to <code>&#39;esbuild&#39;</code> for SSR</a></p><ul><li><a href="/config/build-options#build-cssminify"><code>build.cssMinify</code></a> 现在即使是 SSR 版本也默认为启用。</li></ul></li><li><p><a href="https://github.com/vitejs/vite/pull/18070" target="_blank" rel="noreferrer">[#18070] feat!: proxy bypass with WebSocket</a></p><ul><li><code>server.proxy[path].bypass</code> 现在用于 WebSocket 升级请求，在这种情况下，<code>res</code> 参数将是 <code>undefined</code>。</li></ul></li><li><p><a href="https://github.com/vitejs/vite/pull/18209" target="_blank" rel="noreferrer">[#18209] refactor!: bump minimal terser version to 5.16.0</a></p><ul><li><a href="/config/build-options#build-minify"><code>build.minify: &#39;terser&#39;</code></a> 所支持的最小 terser 版本从 5.4.0 提升至 5.16.0</li></ul></li><li><p><a href="https://github.com/vitejs/vite/pull/18231" target="_blank" rel="noreferrer">[#18231] chore(deps): update dependency @rollup/plugin-commonjs to v28</a></p><ul><li><a href="https://github.com/rollup/plugins/blob/master/packages/commonjs/README.md#strictrequires" target="_blank" rel="noreferrer"><code>commonjsOptions.strictRequires</code></a> 现在默认为 <code>true</code>（之前为 <code>&#39;auto&#39;</code>）。 <ul><li>这可能会导致包的大小增大，但会使构建更加确定。</li><li>如果将 CommonJS 文件指定为入口点，则可能需要额外的步骤。阅读 <a href="https://github.com/rollup/plugins/blob/master/packages/commonjs/README.md#using-commonjs-files-as-entry-points" target="_blank" rel="noreferrer">commonjs plugin 文档</a> 了解更多详情.</li></ul></li></ul></li><li><p><a href="https://github.com/vitejs/vite/pull/18243" target="_blank" rel="noreferrer">[#18243] chore(deps)!: migrate <code>fast-glob</code> to <code>tinyglobby</code></a></p><ul><li>globs 中不再支持范围大括号 (<code>{01..03}</code> ⇒ <code>[&#39;01&#39;, &#39;02&#39;, &#39;03&#39;]</code>) 和递增大括号 (<code>{2..8..2}</code> ⇒ <code>[&#39;2&#39;, &#39;4&#39;, &#39;6&#39;, &#39;8&#39;]</code>) 。</li></ul></li><li><p><a href="https://github.com/vitejs/vite/pull/18395" target="_blank" rel="noreferrer">[#18395] feat(resolve)!: allow removing conditions</a></p><ul><li>此 PR 不仅引入了上文提到的 &quot; <code>resolve.conditions</code> 的默认值&quot; 这一破坏性变更，还使得在 SSR 中，<code>resolve.mainFields</code> 不能用于无外部化依赖关系。如果您正在使用 <code>resolve.mainFields</code>，并希望将其应用于 SSR 中的无外部化依赖关系，您可以使用 <a href="/config/ssr-options#ssr-resolve-mainfields"><code>ssr.resolve.mainFields</code></a>。</li></ul></li><li><p><a href="https://github.com/vitejs/vite/pull/18493" target="_blank" rel="noreferrer">[#18493] refactor!: remove fs.cachedChecks option</a></p><ul><li>由于在缓存文件夹中写入文件并立即导入时会出现边缘情况，因此删除了这一选择优化。</li></ul></li><li><p><s><a href="https://github.com/vitejs/vite/pull/18697" target="_blank" rel="noreferrer">[#18697] fix(deps)!: update dependency dotenv-expand to v12</a></s></p><ul><li><s>插值中使用的变量应在插值之前声明。更多详情，请参阅 <a href="https://github.com/motdotla/dotenv-expand/blob/v12.0.1/CHANGELOG.md#1200-2024-11-16" target="_blank" rel="noreferrer"><code>dotenv-expand</code> changelog</a>。</s> 此重大变化已在 v6.1.0 中恢复。</li></ul></li>',9)),s("li",null,[i[226]||(i[226]=s("p",null,[s("a",{href:"https://github.com/vitejs/vite/pull/16471",target:"_blank",rel:"noreferrer"},"[#16471] feat: v6 - Environment API")],-1)),s("ul",null,[s("li",null,[i[225]||(i[225]=s("p",null,"对仅 SSR 模块的更新不再触发客户端的页面重载。要恢复以前的行为，可使用自定义 Vite 插件：",-1)),s("details",null,[i[224]||(i[224]=s("summary",null,"点击展开示例",-1)),s("div",d,[i[222]||(i[222]=s("button",{title:"Copy Code",class:"copy"},null,-1)),i[223]||(i[223]=s("span",{class:"lang"},"ts",-1)),s("pre",E,[s("code",null,[s("span",g,[i[4]||(i[4]=s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"import",-1)),i[5]||(i[5]=s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," type",-1)),i[6]||(i[6]=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," { ",-1)),s("span",y,[n(e,{class:"twoslash-hover","popper-class":"shiki twoslash-floating vp-copy-ignore",theme:"twoslash"},{popper:l(({})=>[...i[0]||(i[0]=[s("span",{class:"twoslash-popup-container vp-copy-ignore"},[s("code",{class:"twoslash-popup-code"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"interface"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Plugin"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"<"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"A"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," ="),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," any"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},">")]),s("div",{class:"twoslash-popup-docs vp-doc"},[s("p",null,`There are two types of plugins in Vite. App plugins and environment plugins.
Environment Plugins are defined by a constructor function that will be called
once per each environment allowing users to have completely different plugins
for each of them. The constructor gets the resolved environment after the server
and builder has already been created simplifying config access and cache
management for for environment specific plugins.
Environment Plugins are closer to regular rollup plugins. They can't define
app level hooks (like config, configResolved, configureServer, etc).`)])],-1)])]),default:l(()=>[i[1]||(i[1]=s("span",null,"Plugin",-1))]),_:1})]),i[7]||(i[7]=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},", ",-1)),s("span",u,[n(e,{class:"twoslash-hover","popper-class":"shiki twoslash-floating vp-copy-ignore",theme:"twoslash"},{popper:l(({})=>[...i[2]||(i[2]=[s("span",{class:"twoslash-popup-container vp-copy-ignore"},[s("code",{class:"twoslash-popup-code"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"class"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," EnvironmentModuleNode")])],-1)])]),default:l(()=>[i[3]||(i[3]=s("span",null,"EnvironmentModuleNode",-1))]),_:1})]),i[8]||(i[8]=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," } ",-1)),i[9]||(i[9]=s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"from",-1)),i[10]||(i[10]=s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 'vite'",-1))]),i[186]||(i[186]=t(`
`,-1)),i[187]||(i[187]=s("span",{class:"line"},null,-1)),i[188]||(i[188]=t(`
`,-1)),s("span",F,[i[15]||(i[15]=s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"function",-1)),i[16]||(i[16]=s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," ",-1)),s("span",v,[n(e,{class:"twoslash-hover","popper-class":"shiki twoslash-floating vp-copy-ignore",theme:"twoslash"},{popper:l(({})=>[...i[11]||(i[11]=[s("span",{class:"twoslash-popup-container vp-copy-ignore"},[s("code",{class:"twoslash-popup-code"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"function"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," hmrReload"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"()"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},":"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Plugin")])],-1)])]),default:l(()=>[i[12]||(i[12]=s("span",null,"hmrReload",-1))]),_:1})]),i[17]||(i[17]=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"()",-1)),i[18]||(i[18]=s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},":",-1)),i[19]||(i[19]=s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," ",-1)),s("span",m,[n(e,{class:"twoslash-hover","popper-class":"shiki twoslash-floating vp-copy-ignore",theme:"twoslash"},{popper:l(({})=>[...i[13]||(i[13]=[s("span",{class:"twoslash-popup-container vp-copy-ignore"},[s("code",{class:"twoslash-popup-code"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"interface"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Plugin"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"<"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"A"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," ="),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," any"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},">")]),s("div",{class:"twoslash-popup-docs vp-doc"},[s("p",null,`There are two types of plugins in Vite. App plugins and environment plugins.
Environment Plugins are defined by a constructor function that will be called
once per each environment allowing users to have completely different plugins
for each of them. The constructor gets the resolved environment after the server
and builder has already been created simplifying config access and cache
management for for environment specific plugins.
Environment Plugins are closer to regular rollup plugins. They can't define
app level hooks (like config, configResolved, configureServer, etc).`)])],-1)])]),default:l(()=>[i[14]||(i[14]=s("span",null,"Plugin",-1))]),_:1})]),i[20]||(i[20]=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," {",-1))]),i[189]||(i[189]=t(`
`,-1)),i[190]||(i[190]=s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"  return"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," {")],-1)),i[191]||(i[191]=t(`
`,-1)),s("span",f,[i[23]||(i[23]=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    ",-1)),s("span",w,[n(e,{class:"twoslash-hover","popper-class":"shiki twoslash-floating vp-copy-ignore",theme:"twoslash"},{popper:l(({})=>[...i[21]||(i[21]=[s("span",{class:"twoslash-popup-container vp-copy-ignore"},[s("code",{class:"twoslash-popup-code"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"OutputPlugin.name: string")])],-1)])]),default:l(()=>[i[22]||(i[22]=s("span",null,"name",-1))]),_:1})]),i[24]||(i[24]=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": ",-1)),i[25]||(i[25]=s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"'hmr-reload'",-1)),i[26]||(i[26]=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},",",-1))]),i[192]||(i[192]=t(`
`,-1)),s("span",C,[i[29]||(i[29]=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    ",-1)),s("span",A,[n(e,{class:"twoslash-hover","popper-class":"shiki twoslash-floating vp-copy-ignore",theme:"twoslash"},{popper:l(({})=>[...i[27]||(i[27]=[s("span",{class:"twoslash-popup-container vp-copy-ignore"},[s("code",{class:"twoslash-popup-code"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"Plugin"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"<"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"any"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},">"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},".enforce"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"?:"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "pre"'),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "post"'),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," undefined")]),s("div",{class:"twoslash-popup-docs vp-doc"},[s("p",null,[t(`Enforce plugin invocation tier similar to webpack loaders. Hooks ordering
is still subject to the `),s("code",null,"order"),t(" property in the hook object.")]),t(`
`),s("p",null,"Plugin invocation order:"),t(`
`),s("ul",null,[t(`
`),s("li",null,"alias resolution"),t(`
`),s("li",null,[s("code",null,"enforce: 'pre'"),t(" plugins")]),t(`
`),s("li",null,"vite core plugins"),t(`
`),s("li",null,"normal plugins"),t(`
`),s("li",null,"vite build plugins"),t(`
`),s("li",null,[s("code",null,"enforce: 'post'"),t(" plugins")]),t(`
`),s("li",null,"vite build post plugins"),t(`
`)])])],-1)])]),default:l(()=>[i[28]||(i[28]=s("span",null,"enforce",-1))]),_:1})]),i[30]||(i[30]=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": ",-1)),i[31]||(i[31]=s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"'post'",-1)),i[32]||(i[32]=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},",",-1))]),i[193]||(i[193]=t(`
`,-1)),s("span",b,[i[35]||(i[35]=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    ",-1)),s("span",D,[n(e,{class:"twoslash-hover","popper-class":"shiki twoslash-floating vp-copy-ignore",theme:"twoslash"},{popper:l(({})=>[...i[33]||(i[33]=[s("span",{class:"twoslash-popup-container vp-copy-ignore"},[s("code",{class:"twoslash-popup-code"},[s("pre",{class:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"Plugin"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"<"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"any"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},">"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},".hotUpdate"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"?:"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," ObjectHook"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"<"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"this"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},":"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," MinimalPluginContext"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," &"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," {")]),t(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"}},"    environment"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},":"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," DevEnvironment"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),t(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"}, "),s("span",{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"}},"options"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},":"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," HotUpdateOptions"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},") "),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"=>"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," Array"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"<"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"EnvironmentModuleNode"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},">"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," void"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," Promise"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"<"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"Array"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"<"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"EnvironmentModuleNode"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},">"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," void>>"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," undefined")])])])]),s("div",{class:"twoslash-popup-docs vp-doc"},[s("p",null,`Perform custom handling of HMR updates.
The handler receives an options containing changed filename, timestamp, a
list of modules affected by the file change, and the dev server instance.`),t(`
`),s("ul",null,[t(`
`),s("li",null,[t(`
`),s("p",null,`The hook can return a filtered list of modules to narrow down the update.
e.g. for a Vue SFC, we can narrow down the part to update by comparing
the descriptors.`),t(`
`)]),t(`
`),s("li",null,[t(`
`),s("p",null,`The hook can also return an empty array and then perform custom updates
by sending a custom hmr payload via environment.hot.send().`),t(`
`)]),t(`
`),s("li",null,[t(`
`),s("p",null,`If the hook doesn't return a value, the hmr update will be performed as
normal.`),t(`
`)]),t(`
`)])])],-1)])]),default:l(()=>[i[34]||(i[34]=s("span",null,"hotUpdate",-1))]),_:1})]),i[36]||(i[36]=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": {",-1))]),i[194]||(i[194]=t(`
`,-1)),s("span",B,[i[39]||(i[39]=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"      ",-1)),s("span",c,[n(e,{class:"twoslash-hover","popper-class":"shiki twoslash-floating vp-copy-ignore",theme:"twoslash"},{popper:l(({})=>[...i[37]||(i[37]=[s("span",{class:"twoslash-popup-container vp-copy-ignore"},[s("code",{class:"twoslash-popup-code"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"order"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"?:"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "pre"'),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "post"'),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," null"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," undefined")])],-1)])]),default:l(()=>[i[38]||(i[38]=s("span",null,"order",-1))]),_:1})]),i[40]||(i[40]=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": ",-1)),i[41]||(i[41]=s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"'post'",-1)),i[42]||(i[42]=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},",",-1))]),i[195]||(i[195]=t(`
`,-1)),s("span",S,[i[51]||(i[51]=s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"      ",-1)),s("span",P,[n(e,{class:"twoslash-hover","popper-class":"shiki twoslash-floating vp-copy-ignore",theme:"twoslash"},{popper:l(({})=>[...i[43]||(i[43]=[s("span",{class:"twoslash-popup-container vp-copy-ignore"},[s("code",{class:"twoslash-popup-code"},[s("pre",{class:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"handler"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": ("),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"this"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},":"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," MinimalPluginContext"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," &"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," {")]),t(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"}},"    environment"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},":"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," DevEnvironment"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},";")]),t(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"}, "),s("span",{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"}},"options"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},":"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," HotUpdateOptions"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},") "),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"=>"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," Array"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"<"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"EnvironmentModuleNode"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},">"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," void"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," Promise"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"<"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"Array"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"<"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"EnvironmentModuleNode"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},">"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," void>")])])])])],-1)])]),default:l(()=>[i[44]||(i[44]=s("span",null,"handler",-1))]),_:1})]),i[52]||(i[52]=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"({ ",-1)),s("span",M,[n(e,{class:"twoslash-hover","popper-class":"shiki twoslash-floating vp-copy-ignore",theme:"twoslash"},{popper:l(({})=>[...i[45]||(i[45]=[s("span",{class:"twoslash-popup-container vp-copy-ignore"},[s("code",{class:"twoslash-popup-code"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"modules"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": EnvironmentModuleNode[]")])],-1)])]),default:l(()=>[i[46]||(i[46]=s("span",null,"modules",-1))]),_:1})]),i[53]||(i[53]=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},", ",-1)),s("span",V,[n(e,{class:"twoslash-hover","popper-class":"shiki twoslash-floating vp-copy-ignore",theme:"twoslash"},{popper:l(({})=>[...i[47]||(i[47]=[s("span",{class:"twoslash-popup-container vp-copy-ignore"},[s("code",{class:"twoslash-popup-code"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"server"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": ViteDevServer")])],-1)])]),default:l(()=>[i[48]||(i[48]=s("span",null,"server",-1))]),_:1})]),i[54]||(i[54]=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},", ",-1)),s("span",T,[n(e,{class:"twoslash-hover","popper-class":"shiki twoslash-floating vp-copy-ignore",theme:"twoslash"},{popper:l(({})=>[...i[49]||(i[49]=[s("span",{class:"twoslash-popup-container vp-copy-ignore"},[s("code",{class:"twoslash-popup-code"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"timestamp"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": number")])],-1)])]),default:l(()=>[i[50]||(i[50]=s("span",null,"timestamp",-1))]),_:1})]),i[55]||(i[55]=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," }) {",-1))]),i[196]||(i[196]=t(`
`,-1)),s("span",j,[i[60]||(i[60]=s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"        if",-1)),i[61]||(i[61]=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," (",-1)),i[62]||(i[62]=s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"this",-1)),i[63]||(i[63]=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},".",-1)),s("span",N,[n(e,{class:"twoslash-hover","popper-class":"shiki twoslash-floating vp-copy-ignore",theme:"twoslash"},{popper:l(({})=>[...i[56]||(i[56]=[s("span",{class:"twoslash-popup-container vp-copy-ignore"},[s("code",{class:"twoslash-popup-code"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"environment"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": DevEnvironment")]),s("div",{class:"twoslash-popup-docs vp-doc"},[s("p",null,"Vite-specific environment instance")])],-1)])]),default:l(()=>[i[57]||(i[57]=s("span",null,"environment",-1))]),_:1})]),i[64]||(i[64]=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},".",-1)),s("span",x,[n(e,{class:"twoslash-hover","popper-class":"shiki twoslash-floating vp-copy-ignore",theme:"twoslash"},{popper:l(({})=>[...i[58]||(i[58]=[s("span",{class:"twoslash-popup-container vp-copy-ignore"},[s("code",{class:"twoslash-popup-code"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"PartialEnvironment.name: string")])],-1)])]),default:l(()=>[i[59]||(i[59]=s("span",null,"name",-1))]),_:1})]),i[65]||(i[65]=a('<span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!==</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;ssr&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">return</span>',5))]),i[197]||(i[197]=t(`
`,-1)),i[198]||(i[198]=s("span",{class:"line"},null,-1)),i[199]||(i[199]=t(`
`,-1)),s("span",I,[i[68]||(i[68]=s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"        let",-1)),i[69]||(i[69]=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," ",-1)),s("span",R,[n(e,{class:"twoslash-hover","popper-class":"shiki twoslash-floating vp-copy-ignore",theme:"twoslash"},{popper:l(({})=>[...i[66]||(i[66]=[s("span",{class:"twoslash-popup-container vp-copy-ignore"},[s("code",{class:"twoslash-popup-code"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"let"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," hasSsrOnlyModules"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},":"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," boolean")])],-1)])]),default:l(()=>[i[67]||(i[67]=s("span",null,"hasSsrOnlyModules",-1))]),_:1})]),i[70]||(i[70]=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," ",-1)),i[71]||(i[71]=s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"=",-1)),i[72]||(i[72]=s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," false",-1))]),i[200]||(i[200]=t(`
`,-1)),i[201]||(i[201]=s("span",{class:"line"},null,-1)),i[202]||(i[202]=t(`
`,-1)),s("span",q,[i[79]||(i[79]=s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"        const",-1)),i[80]||(i[80]=s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," ",-1)),s("span",O,[n(e,{class:"twoslash-hover","popper-class":"shiki twoslash-floating vp-copy-ignore",theme:"twoslash"},{popper:l(({})=>[...i[73]||(i[73]=[s("span",{class:"twoslash-popup-container vp-copy-ignore"},[s("code",{class:"twoslash-popup-code"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"const"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," invalidatedModules"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},":"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Set"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"<"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"EnvironmentModuleNode"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},">")])],-1)])]),default:l(()=>[i[74]||(i[74]=s("span",null,"invalidatedModules",-1))]),_:1})]),i[81]||(i[81]=s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," =",-1)),i[82]||(i[82]=s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," new",-1)),i[83]||(i[83]=s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," ",-1)),s("span",H,[n(e,{class:"twoslash-hover","popper-class":"shiki twoslash-floating vp-copy-ignore",theme:"twoslash"},{popper:l(({})=>[...i[75]||(i[75]=[s("span",{class:"twoslash-popup-container vp-copy-ignore"},[s("code",{class:"twoslash-popup-code"},[s("pre",{class:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"var"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," Set"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},":"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," SetConstructor")]),t(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"new"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," <"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"EnvironmentModuleNode"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},">("),s("span",{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"}},"iterable"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"?:"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Iterable"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"<"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"EnvironmentModuleNode"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"> "),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," null"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," undefined"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},") "),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"=>"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Set"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"<"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"EnvironmentModuleNode"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"> ("),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"+"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"1"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," overload)")])])])])],-1)])]),default:l(()=>[i[76]||(i[76]=s("span",null,"Set",-1))]),_:1})]),i[84]||(i[84]=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"<",-1)),s("span",G,[n(e,{class:"twoslash-hover","popper-class":"shiki twoslash-floating vp-copy-ignore",theme:"twoslash"},{popper:l(({})=>[...i[77]||(i[77]=[s("span",{class:"twoslash-popup-container vp-copy-ignore"},[s("code",{class:"twoslash-popup-code"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"class"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," EnvironmentModuleNode")])],-1)])]),default:l(()=>[i[78]||(i[78]=s("span",null,"EnvironmentModuleNode",-1))]),_:1})]),i[85]||(i[85]=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},">()",-1))]),i[203]||(i[203]=t(`
`,-1)),s("span",L,[i[90]||(i[90]=s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"        for",-1)),i[91]||(i[91]=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," (",-1)),i[92]||(i[92]=s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"const",-1)),i[93]||(i[93]=s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," ",-1)),s("span",J,[n(e,{class:"twoslash-hover","popper-class":"shiki twoslash-floating vp-copy-ignore",theme:"twoslash"},{popper:l(({})=>[...i[86]||(i[86]=[s("span",{class:"twoslash-popup-container vp-copy-ignore"},[s("code",{class:"twoslash-popup-code"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"const"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," mod"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},":"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," EnvironmentModuleNode")])],-1)])]),default:l(()=>[i[87]||(i[87]=s("span",null,"mod",-1))]),_:1})]),i[94]||(i[94]=s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," of",-1)),i[95]||(i[95]=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," ",-1)),s("span",U,[n(e,{class:"twoslash-hover","popper-class":"shiki twoslash-floating vp-copy-ignore",theme:"twoslash"},{popper:l(({})=>[...i[88]||(i[88]=[s("span",{class:"twoslash-popup-container vp-copy-ignore"},[s("code",{class:"twoslash-popup-code"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"modules"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": EnvironmentModuleNode[]")])],-1)])]),default:l(()=>[i[89]||(i[89]=s("span",null,"modules",-1))]),_:1})]),i[96]||(i[96]=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},") {",-1))]),i[204]||(i[204]=t(`
`,-1)),s("span",W,[i[101]||(i[101]=s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"          if",-1)),i[102]||(i[102]=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," (",-1)),s("span",$,[n(e,{class:"twoslash-hover","popper-class":"shiki twoslash-floating vp-copy-ignore",theme:"twoslash"},{popper:l(({})=>[...i[97]||(i[97]=[s("span",{class:"twoslash-popup-container vp-copy-ignore"},[s("code",{class:"twoslash-popup-code"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"const"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," mod"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},":"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," EnvironmentModuleNode")])],-1)])]),default:l(()=>[i[98]||(i[98]=s("span",null,"mod",-1))]),_:1})]),i[103]||(i[103]=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},".",-1)),s("span",z,[n(e,{class:"twoslash-hover","popper-class":"shiki twoslash-floating vp-copy-ignore",theme:"twoslash"},{popper:l(({})=>[...i[99]||(i[99]=[s("span",{class:"twoslash-popup-container vp-copy-ignore"},[s("code",{class:"twoslash-popup-code"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"EnvironmentModuleNode.id: string "),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," null")]),s("div",{class:"twoslash-popup-docs vp-doc"},[s("p",null,"Resolved file system path + query")])],-1)])]),default:l(()=>[i[100]||(i[100]=s("span",null,"id",-1))]),_:1})]),i[104]||(i[104]=a('<span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">continue</span>',5))]),i[205]||(i[205]=t(`
`,-1)),s("span",Y,[i[107]||(i[107]=s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"          const",-1)),i[108]||(i[108]=s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," ",-1)),s("span",K,[n(e,{class:"twoslash-hover","popper-class":"shiki twoslash-floating vp-copy-ignore",theme:"twoslash"},{popper:l(({})=>[...i[105]||(i[105]=[s("span",{class:"twoslash-popup-container vp-copy-ignore"},[s("code",{class:"twoslash-popup-code"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"const"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," clientModule"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},":"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," EnvironmentModuleNode"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," undefined")])],-1)])]),default:l(()=>[i[106]||(i[106]=s("span",null,"clientModule",-1))]),_:1})]),i[109]||(i[109]=s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," =",-1))]),i[206]||(i[206]=t(`
`,-1)),s("span",Q,[i[124]||(i[124]=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"            ",-1)),s("span",X,[n(e,{class:"twoslash-hover","popper-class":"shiki twoslash-floating vp-copy-ignore",theme:"twoslash"},{popper:l(({})=>[...i[110]||(i[110]=[s("span",{class:"twoslash-popup-container vp-copy-ignore"},[s("code",{class:"twoslash-popup-code"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"server"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": ViteDevServer")])],-1)])]),default:l(()=>[i[111]||(i[111]=s("span",null,"server",-1))]),_:1})]),i[125]||(i[125]=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},".",-1)),s("span",Z,[n(e,{class:"twoslash-hover","popper-class":"shiki twoslash-floating vp-copy-ignore",theme:"twoslash"},{popper:l(({})=>[...i[112]||(i[112]=[s("span",{class:"twoslash-popup-container vp-copy-ignore"},[s("code",{class:"twoslash-popup-code"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"ViteDevServer.environments: Record"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"<"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"client"'),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "ssr"'),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," (string "),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"&"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," {}), DevEnvironment"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},">")]),s("div",{class:"twoslash-popup-docs vp-doc"},[s("p",null,"Module execution environments attached to the Vite server.")])],-1)])]),default:l(()=>[i[113]||(i[113]=s("span",null,"environments",-1))]),_:1})]),i[126]||(i[126]=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},".",-1)),s("span",_,[n(e,{class:"twoslash-hover","popper-class":"shiki twoslash-floating vp-copy-ignore",theme:"twoslash"},{popper:l(({})=>[...i[114]||(i[114]=[s("span",{class:"twoslash-popup-container vp-copy-ignore"},[s("code",{class:"twoslash-popup-code"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"client"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": DevEnvironment")])],-1)])]),default:l(()=>[i[115]||(i[115]=s("span",null,"client",-1))]),_:1})]),i[127]||(i[127]=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},".",-1)),s("span",ss,[n(e,{class:"twoslash-hover","popper-class":"shiki twoslash-floating vp-copy-ignore",theme:"twoslash"},{popper:l(({})=>[...i[116]||(i[116]=[s("span",{class:"twoslash-popup-container vp-copy-ignore"},[s("code",{class:"twoslash-popup-code"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"DevEnvironment.moduleGraph: EnvironmentModuleGraph")])],-1)])]),default:l(()=>[i[117]||(i[117]=s("span",null,"moduleGraph",-1))]),_:1})]),i[128]||(i[128]=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},".",-1)),s("span",is,[n(e,{class:"twoslash-hover","popper-class":"shiki twoslash-floating vp-copy-ignore",theme:"twoslash"},{popper:l(({})=>[...i[118]||(i[118]=[s("span",{class:"twoslash-popup-container vp-copy-ignore"},[s("code",{class:"twoslash-popup-code"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"EnvironmentModuleGraph."),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"getModuleById"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(id: string): EnvironmentModuleNode "),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," undefined")])],-1)])]),default:l(()=>[i[119]||(i[119]=s("span",null,"getModuleById",-1))]),_:1})]),i[129]||(i[129]=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(",-1)),s("span",ls,[n(e,{class:"twoslash-hover","popper-class":"shiki twoslash-floating vp-copy-ignore",theme:"twoslash"},{popper:l(({})=>[...i[120]||(i[120]=[s("span",{class:"twoslash-popup-container vp-copy-ignore"},[s("code",{class:"twoslash-popup-code"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"const"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," mod"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},":"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," EnvironmentModuleNode")])],-1)])]),default:l(()=>[i[121]||(i[121]=s("span",null,"mod",-1))]),_:1})]),i[130]||(i[130]=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},".",-1)),s("span",ts,[n(e,{class:"twoslash-hover","popper-class":"shiki twoslash-floating vp-copy-ignore",theme:"twoslash"},{popper:l(({})=>[...i[122]||(i[122]=[s("span",{class:"twoslash-popup-container vp-copy-ignore"},[s("code",{class:"twoslash-popup-code"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"EnvironmentModuleNode.id: string")]),s("div",{class:"twoslash-popup-docs vp-doc"},[s("p",null,"Resolved file system path + query")])],-1)])]),default:l(()=>[i[123]||(i[123]=s("span",null,"id",-1))]),_:1})]),i[131]||(i[131]=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")",-1))]),i[207]||(i[207]=t(`
`,-1)),s("span",es,[i[134]||(i[134]=s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"          if",-1)),i[135]||(i[135]=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," (",-1)),s("span",ns,[n(e,{class:"twoslash-hover","popper-class":"shiki twoslash-floating vp-copy-ignore",theme:"twoslash"},{popper:l(({})=>[...i[132]||(i[132]=[s("span",{class:"twoslash-popup-container vp-copy-ignore"},[s("code",{class:"twoslash-popup-code"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"const"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," clientModule"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},":"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," EnvironmentModuleNode"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," undefined")])],-1)])]),default:l(()=>[i[133]||(i[133]=s("span",null,"clientModule",-1))]),_:1})]),i[136]||(i[136]=a('<span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">continue</span>',5))]),i[208]||(i[208]=t(`
`,-1)),i[209]||(i[209]=s("span",{class:"line"},null,-1)),i[210]||(i[210]=t(`
`,-1)),s("span",as,[i[143]||(i[143]=s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"          this",-1)),i[144]||(i[144]=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},".",-1)),s("span",os,[n(e,{class:"twoslash-hover","popper-class":"shiki twoslash-floating vp-copy-ignore",theme:"twoslash"},{popper:l(({})=>[...i[137]||(i[137]=[s("span",{class:"twoslash-popup-container vp-copy-ignore"},[s("code",{class:"twoslash-popup-code"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"environment"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": DevEnvironment")]),s("div",{class:"twoslash-popup-docs vp-doc"},[s("p",null,"Vite-specific environment instance")])],-1)])]),default:l(()=>[i[138]||(i[138]=s("span",null,"environment",-1))]),_:1})]),i[145]||(i[145]=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},".",-1)),s("span",ps,[n(e,{class:"twoslash-hover","popper-class":"shiki twoslash-floating vp-copy-ignore",theme:"twoslash"},{popper:l(({})=>[...i[139]||(i[139]=[s("span",{class:"twoslash-popup-container vp-copy-ignore"},[s("code",{class:"twoslash-popup-code"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"DevEnvironment.moduleGraph: EnvironmentModuleGraph")])],-1)])]),default:l(()=>[i[140]||(i[140]=s("span",null,"moduleGraph",-1))]),_:1})]),i[146]||(i[146]=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},".",-1)),s("span",hs,[n(e,{class:"twoslash-hover","popper-class":"shiki twoslash-floating vp-copy-ignore",theme:"twoslash"},{popper:l(({})=>[...i[141]||(i[141]=[s("span",{class:"twoslash-popup-container vp-copy-ignore"},[s("code",{class:"twoslash-popup-code"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"EnvironmentModuleGraph."),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"invalidateModule"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(mod: EnvironmentModuleNode, seen"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"?:"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," Set"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"<"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"EnvironmentModuleNode"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},">"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},", timestamp"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"?:"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," number, isHmr"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"?:"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," boolean, softInvalidate"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"?:"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," boolean): "),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"void")])],-1)])]),default:l(()=>[i[142]||(i[142]=s("span",null,"invalidateModule",-1))]),_:1})]),i[147]||(i[147]=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(",-1))]),i[211]||(i[211]=t(`
`,-1)),s("span",ks,[i[150]||(i[150]=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"            ",-1)),s("span",rs,[n(e,{class:"twoslash-hover","popper-class":"shiki twoslash-floating vp-copy-ignore",theme:"twoslash"},{popper:l(({})=>[...i[148]||(i[148]=[s("span",{class:"twoslash-popup-container vp-copy-ignore"},[s("code",{class:"twoslash-popup-code"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"const"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," mod"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},":"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," EnvironmentModuleNode")])],-1)])]),default:l(()=>[i[149]||(i[149]=s("span",null,"mod",-1))]),_:1})]),i[151]||(i[151]=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},",",-1))]),i[212]||(i[212]=t(`
`,-1)),s("span",ds,[i[154]||(i[154]=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"            ",-1)),s("span",Es,[n(e,{class:"twoslash-hover","popper-class":"shiki twoslash-floating vp-copy-ignore",theme:"twoslash"},{popper:l(({})=>[...i[152]||(i[152]=[s("span",{class:"twoslash-popup-container vp-copy-ignore"},[s("code",{class:"twoslash-popup-code"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"const"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," invalidatedModules"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},":"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," Set"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"<"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"EnvironmentModuleNode"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},">")])],-1)])]),default:l(()=>[i[153]||(i[153]=s("span",null,"invalidatedModules",-1))]),_:1})]),i[155]||(i[155]=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},",",-1))]),i[213]||(i[213]=t(`
`,-1)),s("span",gs,[i[158]||(i[158]=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"            ",-1)),s("span",ys,[n(e,{class:"twoslash-hover","popper-class":"shiki twoslash-floating vp-copy-ignore",theme:"twoslash"},{popper:l(({})=>[...i[156]||(i[156]=[s("span",{class:"twoslash-popup-container vp-copy-ignore"},[s("code",{class:"twoslash-popup-code"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"timestamp"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": number")])],-1)])]),default:l(()=>[i[157]||(i[157]=s("span",null,"timestamp",-1))]),_:1})]),i[159]||(i[159]=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},",",-1))]),i[214]||(i[214]=a(`
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          )</span></span>
`,5)),s("span",us,[i[162]||(i[162]=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"          ",-1)),s("span",Fs,[n(e,{class:"twoslash-hover","popper-class":"shiki twoslash-floating vp-copy-ignore",theme:"twoslash"},{popper:l(({})=>[...i[160]||(i[160]=[s("span",{class:"twoslash-popup-container vp-copy-ignore"},[s("code",{class:"twoslash-popup-code"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"let"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," hasSsrOnlyModules"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},":"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," boolean")])],-1)])]),default:l(()=>[i[161]||(i[161]=s("span",null,"hasSsrOnlyModules",-1))]),_:1})]),i[163]||(i[163]=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," ",-1)),i[164]||(i[164]=s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"=",-1)),i[165]||(i[165]=s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," true",-1))]),i[215]||(i[215]=t(`
`,-1)),i[216]||(i[216]=s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"        }")],-1)),i[217]||(i[217]=t(`
`,-1)),i[218]||(i[218]=s("span",{class:"line"},null,-1)),i[219]||(i[219]=t(`
`,-1)),s("span",vs,[i[168]||(i[168]=s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"        if",-1)),i[169]||(i[169]=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," (",-1)),s("span",ms,[n(e,{class:"twoslash-hover","popper-class":"shiki twoslash-floating vp-copy-ignore",theme:"twoslash"},{popper:l(({})=>[...i[166]||(i[166]=[s("span",{class:"twoslash-popup-container vp-copy-ignore"},[s("code",{class:"twoslash-popup-code"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"let"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," hasSsrOnlyModules"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},":"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," boolean")])],-1)])]),default:l(()=>[i[167]||(i[167]=s("span",null,"hasSsrOnlyModules",-1))]),_:1})]),i[170]||(i[170]=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},") {",-1))]),i[220]||(i[220]=t(`
`,-1)),s("span",fs,[i[179]||(i[179]=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"          ",-1)),s("span",ws,[n(e,{class:"twoslash-hover","popper-class":"shiki twoslash-floating vp-copy-ignore",theme:"twoslash"},{popper:l(({})=>[...i[171]||(i[171]=[s("span",{class:"twoslash-popup-container vp-copy-ignore"},[s("code",{class:"twoslash-popup-code"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"server"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": ViteDevServer")])],-1)])]),default:l(()=>[i[172]||(i[172]=s("span",null,"server",-1))]),_:1})]),i[180]||(i[180]=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},".",-1)),s("span",Cs,[n(e,{class:"twoslash-hover","popper-class":"shiki twoslash-floating vp-copy-ignore",theme:"twoslash"},{popper:l(({})=>[...i[173]||(i[173]=[s("span",{class:"twoslash-popup-container vp-copy-ignore"},[s("code",{class:"twoslash-popup-code"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"ViteDevServer.ws: WebSocketServer")]),s("div",{class:"twoslash-popup-docs vp-doc"},[s("p",null,[t("WebSocket server with "),s("code",null,"send(payload)"),t(" method")])])],-1)])]),default:l(()=>[i[174]||(i[174]=s("span",null,"ws",-1))]),_:1})]),i[181]||(i[181]=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},".",-1)),s("span",As,[n(e,{class:"twoslash-hover","popper-class":"shiki twoslash-floating vp-copy-ignore",theme:"twoslash"},{popper:l(({})=>[...i[175]||(i[175]=[s("span",{class:"twoslash-popup-container vp-copy-ignore"},[s("code",{class:"twoslash-popup-code"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"NormalizedHotChannel"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"<"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"any"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},">"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"."),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"send"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(payload: HotPayload): "),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"void"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," ("),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"+"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"1"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," overload)")]),s("div",{class:"twoslash-popup-docs vp-doc"},[s("p",null,"Broadcast events to all clients")])],-1)])]),default:l(()=>[i[176]||(i[176]=s("span",null,"send",-1))]),_:1})]),i[182]||(i[182]=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"({ ",-1)),s("span",bs,[n(e,{class:"twoslash-hover","popper-class":"shiki twoslash-floating vp-copy-ignore",theme:"twoslash"},{popper:l(({})=>[...i[177]||(i[177]=[s("span",{class:"twoslash-popup-container vp-copy-ignore"},[s("code",{class:"twoslash-popup-code"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"FullReloadPayload.type: "),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},'"full-reload"')])],-1)])]),default:l(()=>[i[178]||(i[178]=s("span",null,"type",-1))]),_:1})]),i[183]||(i[183]=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": ",-1)),i[184]||(i[184]=s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"'full-reload'",-1)),i[185]||(i[185]=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," })",-1))]),i[221]||(i[221]=a(`
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">          return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> []</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>`,12))])])])])])])])]),i[229]||(i[229]=s("h2",{id:"migration-from-v4",tabindex:"-1"},[t("从 v4 迁移 "),s("a",{class:"header-anchor",href:"#migration-from-v4","aria-label":"Permalink to “从 v4 迁移”"},"​")],-1)),i[230]||(i[230]=s("p",null,[t("在 Vite v5 文档中查看 "),s("a",{href:"https://v5.vite.dev/guide/migration.html",target:"_blank",rel:"noreferrer"},"从 v4 迁移指南"),t("（"),s("a",{href:"/guide/migration-from-v4"},"中文版"),t("），了解如何将你的应用迁移到 Vite v5，然后再处理本页中所提及的变化。")],-1))])}const js=o(r,[["render",Ds]]);export{Ts as __pageData,js as default};
