import{_ as a,I as i,c as o,o as n,aq as t,J as l,aL as s,aM as h}from"./chunks/framework.CYFbgU53.js";const u=JSON.parse('{"title":"Vite 6.0 is out!","description":"","frontmatter":{"title":"Vite 6.0 is out!","author":{"name":"The Vite Team"},"date":"2024-11-26T00:00:00.000Z","sidebar":false,"head":[["link",{"rel":"canonical","href":"https://vite.zhcndoc.com/blog/announcing-vite6"}],["meta",{"property":"og:title","content":"Vite 6.0 is out!"}],["meta",{"property":"og:type","content":"website"}],["meta",{"property":"og:title","content":"Announcing Vite 6"}],["meta",{"property":"og:image","content":"https://vite.dev/og-image-announcing-vite6.webp"}],["meta",{"property":"og:url","content":"https://vite.dev/blog/announcing-vite6"}],["meta",{"property":"og:description","content":"Vite 6 Release Announcement"}],["meta",{"name":"twitter:card","content":"summary_large_image"}]]},"headers":[],"relativePath":"blog/announcing-vite6.md","filePath":"blog/announcing-vite6.md"}'),p={name:"blog/announcing-vite6.md"};function d(f,e,c,g,b,m){const r=i("YouTubeVideo");return n(),o("div",null,[e[0]||(e[0]=t('<h1 id="vite-6-0-is-out" tabindex="-1">Vite 6.0 发布了！ <a class="header-anchor" href="#vite-6-0-is-out" aria-label="Permalink to “Vite 6.0 发布了！”">​</a></h1><p><em>2024年11月26日</em></p><p><img src="'+s+'" alt="Vite 6 Announcement Cover Image" width="3200" height="1602"></p><p>今天，Vite 迎来了发展历程中的重要里程碑。我们很高兴地宣布，Vite 6 正式发布了！这一重大版本的发布离不开 Vite <a href="/team.html">团队</a>、<a href="https://github.com/vitejs/vite/graphs/contributors" target="_blank" rel="noreferrer">贡献者</a> 以及整个生态系统合作伙伴的共同努力。</p><p>过去一年中，Vite 的采用率持续增长，自 Vite 5 发布以来，npm 每周下载量从 750 万次跃升至 1700 万次。<a href="https://vitest.dev" target="_blank" rel="noreferrer">Vitest</a> 不仅越来越受用户欢迎，还开始形成自己的生态系统。例如，<a href="https://storybook.js.org" target="_blank" rel="noreferrer">Storybook</a> 推出了由 Vitest 支持的全新测试功能。</p><p>Vite 生态系统也迎来了一批新成员，包括 <a href="https://tanstack.com/start" target="_blank" rel="noreferrer">TanStack Start</a>、<a href="https://onestack.dev/" target="_blank" rel="noreferrer">One</a>、<a href="https://emberjs.com/" target="_blank" rel="noreferrer">Ember</a> 等框架。Web 开发领域的创新速度日益加快，<a href="https://astro.build/" target="_blank" rel="noreferrer">Astro</a>、<a href="https://nuxt.com/" target="_blank" rel="noreferrer">Nuxt</a>、<a href="https://kit.svelte.dev/" target="_blank" rel="noreferrer">SvelteKit</a>、<a href="https://www.solidjs.com/blog/introducing-solidstart" target="_blank" rel="noreferrer">Solid Start</a>、<a href="https://qwik.builder.io/qwikcity/overview" target="_blank" rel="noreferrer">Qwik City</a>、<a href="https://redwoodjs.com/" target="_blank" rel="noreferrer">RedwoodJS</a>、<a href="https://reactrouter.com/" target="_blank" rel="noreferrer">React Router</a> 等项目都在不断推陈出新。</p><p>Vite 已被 OpenAI、Google、Apple、Microsoft、NASA、Shopify、Cloudflare、GitLab、Reddit 和 Linear 等众多知名公司采用。两个月前，我们创建了一份 <a href="https://github.com/vitejs/companies-using-vite" target="_blank" rel="noreferrer">使用 Vite 的公司列表</a>。令人欣喜的是，许多开发者提交 PR 将他们的公司添加到列表中。回首 Vite 诞生至今，我们共同打造的生态系统增长速度之快，实在令人难以置信。</p><p><img src="'+h+'" alt="Vite weekly npm downloads" width="2942" height="1416"></p><h3 id="speeding-up-the-vite-ecosystem" tabindex="-1">加速 Vite 生态系统 <a class="header-anchor" href="#speeding-up-the-vite-ecosystem" aria-label="Permalink to “加速 Vite 生态系统”">​</a></h3><p>上个月，<a href="https://stackblitz.com" target="_blank" rel="noreferrer">StackBlitz</a> 再次主办了第三届 <a href="https://viteconf.org/24/replay" target="_blank" rel="noreferrer">ViteConf</a>，吸引了整个社区的广泛参与。这是迄今为止规模最大的 Vite 会议，生态系统中的各路开发者齐聚一堂。Evan You 正式宣布成立 <a href="https://staging.voidzero.dev/posts/announcing-voidzero-inc" target="_blank" rel="noreferrer">VoidZero</a>，这是一家致力于为 JavaScript 生态系统构建开源、高性能和统一开发工具链的公司。VoidZero 推出了 <a href="https://rolldown.rs" target="_blank" rel="noreferrer">Rolldown</a> 和 <a href="https://oxc.rs" target="_blank" rel="noreferrer">Oxc</a>，他们的团队正在加紧准备这些工具以供 Vite 采用。想了解 Vite 未来如何借助 Rust 实现更强大的性能，不妨观看 Evan 的主题演讲。</p>',10)),l(r,{videoId:"EKvvptbTx6k?si=EZ-rFJn4pDW3tUvp"}),e[1]||(e[1]=t('<p><a href="https://stackblitz.com" target="_blank" rel="noreferrer">Stackblitz</a> 推出了 <a href="https://bolt.new" target="_blank" rel="noreferrer">bolt.new</a>，这是一个结合了 Claude 和 WebContainers 的 Remix 应用，允许你使用提示语、编辑、运行和部署全栈应用。Nate Weiner 宣布了 <a href="https://onestack.dev/" target="_blank" rel="noreferrer">One</a>，一个新的 Vite 驱动的 Web 和原生 React 框架。Storybook 展示了他们最新由 Vitest 驱动的 <a href="https://youtu.be/8t5wxrFpCQY?si=PYZoWKf-45goQYDt" target="_blank" rel="noreferrer">测试功能</a>。还有更多精彩内容。我们建议你观看 <a href="https://www.youtube.com/playlist?list=PLqGQbXn_GDmnObDzgjUF4Krsfl6OUKxtp" target="_blank" rel="noreferrer">全部 43 场演讲</a>。演讲者们付出了巨大努力，分享了每个项目的最新进展。</p><p>Vite 还更新了主页和域名。请记得将你的链接更新为新的 <a href="https://vite.dev" target="_blank" rel="noreferrer">vite.dev</a> 域名。新设计和实现由 VoidZero 完成，正是他们制作了自己的网站。特别感谢 <a href="https://bento.me/rmoon" target="_blank" rel="noreferrer">Vicente Rodriguez</a> 和 <a href="https://marchantweb.com/" target="_blank" rel="noreferrer">Simon Le Marchant</a> 的贡献。</p><h3 id="the-next-vite-major-is-here" tabindex="-1">Vite 6 的到来 <a class="header-anchor" href="#the-next-vite-major-is-here" aria-label="Permalink to “Vite 6 的到来”">​</a></h3><p>Vite 6 是自 Vite 2 以来最重要的主要版本发布。我们渴望与生态系统合作，通过新的 API 继续扩展我们的共享资源，并一如既往地提供一个更完善的构建基础。</p><p>快速链接：</p><ul><li><a href="https://vite.dev" target="_blank" rel="noreferrer">英文文档</a></li><li>翻译版本：<a href="/">简体中文</a>、<a href="https://ja.vite.dev/" target="_blank" rel="noreferrer">日本語</a>、<a href="https://es.vite.dev/" target="_blank" rel="noreferrer">Español</a>、<a href="https://pt.vite.dev/" target="_blank" rel="noreferrer">Português</a>、<a href="https://ko.vite.dev/" target="_blank" rel="noreferrer">한국어</a>、<a href="https://de.vite.dev/" target="_blank" rel="noreferrer">Deutsch</a></li><li><a href="/guide/migration.html">迁移指南</a></li><li><a href="https://github.com/vitejs/vite/blob/main/packages/vite/CHANGELOG.md#600-2024-11-26" target="_blank" rel="noreferrer">GitHub 更新日志</a></li></ul><p>如果你是 Vite 的新用户，我们建议首先阅读 <a href="/guide/">入门指南</a> 和 <a href="/guide/features.html">功能介绍</a> 部分。</p><p>我们要感谢超过 <a href="https://github.com/vitejs/vite/graphs/contributors" target="_blank" rel="noreferrer">1000 位 Vite Core 贡献者</a> 以及 Vite 插件、集成、工具和翻译的维护者和贡献者，他们帮助我们打造了这个新的主要版本。我们也邀请你参与进来，帮助我们改进整个生态系统的 Vite。了解更多信息，请参阅我们的 <a href="https://github.com/vitejs/vite/blob/main/CONTRIBUTING.md" target="_blank" rel="noreferrer">贡献指南</a>。</p><p>如果准备开始的话，我们建议可以帮助 <a href="https://github.com/vitejs/vite/issues" target="_blank" rel="noreferrer">分类问题</a>、<a href="https://github.com/vitejs/vite/pulls" target="_blank" rel="noreferrer">审查 PR</a>、根据开放问题发送失败的测试 PR，并在<a href="https://github.com/vitejs/vite/discussions" target="_blank" rel="noreferrer">讨论</a> 和 Vite Land 的 <a href="https://discord.com/channels/804011606160703521/1019670660856942652" target="_blank" rel="noreferrer">帮助论坛</a> 中帮助他人。如果你想与我们交流，请加入我们的 <a href="http://chat.vite.dev/" target="_blank" rel="noreferrer">Discord 社区</a> 并在 <a href="https://discord.com/channels/804011606160703521/804439875226173480" target="_blank" rel="noreferrer">#贡献频道</a> 中打个招呼。</p><p>有关 Vite 生态系统和 Vite Core 的最新消息，请关注我们的 <a href="https://bsky.app/profile/vite.dev" target="_blank" rel="noreferrer">Bluesky</a>、<a href="https://twitter.com/vite_js" target="_blank" rel="noreferrer">X</a> 或 <a href="https://webtoo.ls/@vite" target="_blank" rel="noreferrer">Mastodon</a>。</p><h3 id="getting-started-with-vite-6" tabindex="-1">开始使用 Vite 6 <a class="header-anchor" href="#getting-started-with-vite-6" aria-label="Permalink to “开始使用 Vite 6”">​</a></h3><p>你可以使用 <code>pnpm create vite</code> 快速搭建一个 Vite 应用，使用你喜欢的框架，或在线体验 Vite 6，访问 <a href="https://vite.new" target="_blank" rel="noreferrer">vite.new</a>。你还可以运行 <code>pnpm create vite-extra</code> 以获取其他框架和运行时（Solid、Deno、SSR 和库起始模板）的模板。当你在 <code>create vite</code> 下选择 <code>Others</code> 选项时，也可以使用 <code>create vite-extra</code> 模板。</p><p>Vite 启动模板旨在作为测试 Vite 与不同框架结合的演练场。在构建下一个项目时，你可以试着使用每个框架推荐的启动模板。<code>create vite</code> 还提供了一些框架的快捷设置，如 <code>create-vue</code>、<code>Nuxt 3</code>、<code>SvelteKit</code>、<code>Remix</code>、<code>Analog</code> 和 <code>Angular</code>。</p><h3 id="node-js-support" tabindex="-1">Node.js 支持 <a class="header-anchor" href="#node-js-support" aria-label="Permalink to “Node.js 支持”">​</a></h3><p>Vite 6 与 Vite 5 类似，支持 Node.js 18、20 和 22+。Node.js 21 的支持已被移除。Vite 在旧版本的 Node.js <a href="https://endoflife.date/nodejs" target="_blank" rel="noreferrer">生命周期终止</a> （EOL）后停止支持。Node.js 18 EOL 在 2025 年 4 月底，届时我们可能会发布一个新主要版本以提高所需的 Node.js 版本。</p><h3 id="experimental-environment-api" tabindex="-1">实验性环境 API <a class="header-anchor" href="#experimental-environment-api" aria-label="Permalink to “实验性环境 API”">​</a></h3><p>Vite 正在通过新的环境 API 变得更加灵活。这些新 API 将允许框架作者提供更接近生产环境的开发体验，并为生态系统共享新的构建模块。如果你正在构建一个 SPA，使用 Vite 的单一客户端环境，一切将如以往一样工作。即使对于自定义 SSR 应用，Vite 6 也向后兼容。环境 API 的主要目标受众是框架作者。</p><p>对于感兴趣的终端用户，<a href="https://github.com/sapphi-red" target="_blank" rel="noreferrer">Sapphi</a> 撰写了一篇很好的 <a href="https://green.sapphi.red/blog/increasing-vites-potential-with-the-environment-api" target="_blank" rel="noreferrer">环境 API 介绍</a> 指南。这是一个很好的起点，帮助你理解我们为何努力使 Vite 更加灵活。</p><p>如果你是框架作者或 Vite 插件维护者，并希望利用新 API，你可以在 <a href="https://main.vite.dev/guide/api-environment" target="_blank" rel="noreferrer">环境 API 指南</a> 中了解更多信息。</p><p>我们要感谢所有参与定义和实现新 API 的伙伴。这个故事始于 Vite 2 采用了由 <a href="https://github.com/Rich-Harris" target="_blank" rel="noreferrer">Rich Harris</a> 和 <a href="https://svelte.dev/docs/kit" target="_blank" rel="noreferrer">SvelteKit</a> 团队开创的无打包 SSR 开发方案。Vite 的 SSR 转换随后启发了 <a href="https://github.com/antfu/" target="_blank" rel="noreferrer">Anthony Fu</a> 和 <a href="https://github.com/pi0" target="_blank" rel="noreferrer">Pooya Parsa</a> 创建 vite-node 并改进 <a href="https://antfu.me/posts/dev-ssr-on-nuxt" target="_blank" rel="noreferrer">Nuxt 的开发 SSR 方案</a>。Anthony 之后使用 vite-node 为 <a href="https://vitest.dev" target="_blank" rel="noreferrer">Vitest</a> 提供支持，而 <a href="https://github.com/sheremet-va" target="_blank" rel="noreferrer">Vladimir Sheremet</a> 在维护 Vitest 的过程中也在不断改进它。2023 年初，Vladimir 开始将 vite-node 上游合并到 Vite Core 中，一年后我们在 Vite 5.1 中将其作为 Runtime API 发布。来自生态系统合作伙伴（特别感谢 Cloudflare 团队）的反馈推动我们对 Vite 的环境进行更雄心勃勃的重构。你可以在 <a href="https://www.youtube.com/watch?v=WImor3HDyqU?si=EZ-rFJn4pDW3tUvp" target="_blank" rel="noreferrer">Patak 的 ViteConf 24 演讲</a> 中了解更多关于这个故事的信息。</p><p>Vite 团队的每个人都参与了新 API 的定义，该 API 是与生态系统中许多项目的反馈共同设计的。感谢所有参与者！如果你正在基于 Vite 构建框架、插件或工具，我们鼓励你参与进来。新 API 是实验性的。我们将与生态系统合作，审查新 API 的使用方式，并在下一个主要版本中稳定它们。如果你想提问或反馈意见，这里有一个 <a href="https://github.com/vitejs/vite/discussions/16358" target="_blank" rel="noreferrer">开放的 GitHub 讨论</a>。</p><h2 id="main-changes" tabindex="-1">主要变化 <a class="header-anchor" href="#main-changes" aria-label="Permalink to “主要变化”">​</a></h2><ul><li><a href="/guide/migration.html#default-value-for-resolve-conditions"><code>resolve.conditions</code> 默认值</a></li><li><a href="/guide/migration.html#json-stringify">JSON 序列化</a></li><li><a href="/guide/migration.html#extended-support-of-asset-references-in-html-elements">在 HTML 元素中扩展对资源引用的支持</a></li><li><a href="/guide/migration.html#postcss-load-config">postcss-load-config</a></li><li><a href="/guide/migration.html#sass-now-uses-modern-api-by-default">Sass 现在默认使用现代 API</a></li><li><a href="/guide/migration.html#customize-css-output-file-name-in-library-mode">在&quot;库&quot;模式下自定义 CSS 输出文件名</a></li><li><a href="/guide/migration.html#advanced">以及更多仅影响少数用户的更改</a></li></ul><p>此外，还有一个新的 <a href="/changes/">破坏性变更</a> 页面，列出了 Vite 中所有计划的、正在考虑的和过去的更改。</p><h2 id="migrating-to-vite-6" tabindex="-1">迁移到 Vite 6 <a class="header-anchor" href="#migrating-to-vite-6" aria-label="Permalink to “迁移到 Vite 6”">​</a></h2><p>对于大多数项目，升级到 Vite 6 应该是很直接的，但我们建议在升级前查看 <a href="/guide/migration.html">详细的迁移指南</a>。</p><p>完整的更改列表请参见 <a href="https://github.com/vitejs/vite/blob/main/packages/vite/CHANGELOG.md#500-2024-11-26" target="_blank" rel="noreferrer">Vite 6 更新日志</a>。</p><h2 id="acknowledgments" tabindex="-1">致谢 <a class="header-anchor" href="#acknowledgments" aria-label="Permalink to “致谢”">​</a></h2><p>Vite 6 的发布离不开我们社区贡献者、下游维护者、插件作者和 <a href="/team.html">Vite 团队</a> 的辛勤工作。我们感谢所有支持 Vite 开发的个人和公司。Vite 由 <a href="https://voidzero.dev" target="_blank" rel="noreferrer">VoidZero</a> 与 <a href="https://stackblitz.com/" target="_blank" rel="noreferrer">StackBlitz</a>、<a href="https://nuxtlabs.com/" target="_blank" rel="noreferrer">Nuxt Labs</a> 和 <a href="https://astro.build" target="_blank" rel="noreferrer">Astro</a> 合作呈现。特别感谢 <a href="https://github.com/sponsors/vitejs" target="_blank" rel="noreferrer">Vite 的 GitHub 赞助者</a> 和 <a href="https://opencollective.com/vite" target="_blank" rel="noreferrer">Vite 的 Open Collective</a> 上的赞助者。</p>',29))])}const _=a(p,[["render",d]]);export{u as __pageData,_ as default};
