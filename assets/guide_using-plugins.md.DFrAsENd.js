import{_ as h,b as k,o as e,i as r,j as s,S as l,g as n,w as t,R as a}from"./chunks/framework.Caqowgrb.js";const rs=JSON.parse('{"title":"使用插件","description":"","frontmatter":{},"headers":[],"relativePath":"guide/using-plugins.md","filePath":"guide/using-plugins.md"}'),d={name:"guide/using-plugins.md"},g={class:"vp-code-block-title"},E={class:"language-js"},y={class:"shiki shiki-themes github-light github-dark twoslash lsp",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabindex:"0",dir:"ltr"},u={class:"line"},F={style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},f={class:"line"},v={style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},C={class:"line"},w={style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},A={class:"line"},b={style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},m={class:"line"},B={style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},D={class:"line"},T={style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},P={class:"vp-code-block-title"},j={class:"language-js"},V={class:"shiki shiki-themes github-light github-dark twoslash lsp",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabindex:"0",dir:"ltr"},S={class:"line"},U={style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},x={class:"line"},I={style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},R={class:"line"},N={style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},$={class:"line"},O={style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},L={class:"line"},q={style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},H={class:"line"},J={style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},W={class:"vp-code-block-title"},z={class:"language-js"},G={class:"shiki shiki-themes github-light github-dark twoslash lsp",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabindex:"0",dir:"ltr"},K={class:"line"},M={style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},Q={class:"line"},X={style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},Y={class:"line"},Z={style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},c={class:"line"},_={style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},ss={class:"line"},is={style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},ls={class:"line"},ts={style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}};function ns(ps,i,as,ks,os,hs){const o=k("ScrimbaLink"),p=k("v-menu");return e(),r("div",null,[i[138]||(i[138]=s("h1",{id:"using-plugins",tabindex:"-1"},[l("使用插件 "),s("a",{class:"header-anchor",href:"#using-plugins","aria-label":"Permalink to “使用插件”"},"​")],-1)),i[139]||(i[139]=s("p",null,"Vite 可以使用插件进行扩展，这得益于 Rollup 优秀的插件接口设计和一部分 Vite 独有的额外选项。这意味着 Vite 用户可以利用 Rollup 插件的强大生态系统，同时根据需要也能够扩展开发服务器和 SSR 功能。",-1)),n(o,{href:"https://scrimba.com/intro-to-vite-c03p6pbbdq/~0y4g?via=vite",title:"Using Plugins in Vite"},{default:t(()=>[...i[0]||(i[0]=[l("在 Scrimba 上观看互动课程",-1)])]),_:1}),i[140]||(i[140]=a('<h2 id="adding-a-plugin" tabindex="-1">添加一个插件 <a class="header-anchor" href="#adding-a-plugin" aria-label="Permalink to “添加一个插件”">​</a></h2><p>若要使用一个插件，需要将它添加到项目的 <code>devDependencies</code> 并在 <code>vite.config.js</code> 配置文件中的 <code>plugins</code> 数组中引入它。例如，要想为传统浏览器提供支持，可以按下面这样使用官方插件 <a href="https://github.com/vitejs/vite/tree/main/packages/plugin-legacy" target="_blank" rel="noreferrer">@vitejs/plugin-legacy</a>：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>$ npm add -D @vitejs/plugin-legacy</span></span></code></pre></div>',3)),s("div",g,[i[43]||(i[43]=s("div",{class:"vp-code-block-title-bar"},[s("span",{class:"vp-code-block-title-text","data-title":"vite.config.js"},"vite.config.js")],-1)),s("div",E,[i[41]||(i[41]=s("button",{title:"Copy Code",class:"copy"},null,-1)),i[42]||(i[42]=s("span",{class:"lang"},"js",-1)),s("pre",y,[s("code",null,[s("span",u,[i[3]||(i[3]=s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"import",-1)),i[4]||(i[4]=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," ",-1)),s("span",F,[n(p,{class:"twoslash-hover","popper-class":"shiki twoslash-floating vp-copy-ignore",theme:"twoslash"},{popper:t(({})=>[...i[1]||(i[1]=[s("span",{class:"twoslash-popup-container vp-copy-ignore"},[s("code",{class:"twoslash-popup-code"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"import"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," legacy")])],-1)])]),default:t(()=>[i[2]||(i[2]=s("span",null,"legacy",-1))]),_:1})]),i[5]||(i[5]=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," ",-1)),i[6]||(i[6]=s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"from",-1)),i[7]||(i[7]=s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," '@vitejs/plugin-legacy'",-1))]),i[33]||(i[33]=l(`
`,-1)),s("span",f,[i[10]||(i[10]=s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"import",-1)),i[11]||(i[11]=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," { ",-1)),s("span",v,[n(p,{class:"twoslash-hover","popper-class":"shiki twoslash-floating vp-copy-ignore",theme:"twoslash"},{popper:t(({})=>[...i[8]||(i[8]=[s("span",{class:"twoslash-popup-container vp-copy-ignore"},[s("code",{class:"twoslash-popup-code"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"function"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," defineConfig"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),s("span",{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"}},"config"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},":"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," UserConfig"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},":"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," UserConfig"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," (+"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"5"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," overloads"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")")]),s("div",{class:"twoslash-popup-docs vp-doc"},[s("p",null,`Type helper to make it easier to use vite.config.ts
accepts a direct`),l(`
`),s("p",null,"UserConfig"),l(`
`),s("p",null,`object, or a function that returns it.
The function receives a`),l(`
`),s("p",null,"ConfigEnv"),l(`
`),s("p",null,"object.")])],-1)])]),default:t(()=>[i[9]||(i[9]=s("span",null,"defineConfig",-1))]),_:1})]),i[12]||(i[12]=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," } ",-1)),i[13]||(i[13]=s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"from",-1)),i[14]||(i[14]=s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 'vite'",-1))]),i[34]||(i[34]=l(`
`,-1)),i[35]||(i[35]=s("span",{class:"line"},null,-1)),i[36]||(i[36]=l(`
`,-1)),s("span",C,[i[17]||(i[17]=s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"export",-1)),i[18]||(i[18]=s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," default",-1)),i[19]||(i[19]=s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," ",-1)),s("span",w,[n(p,{class:"twoslash-hover","popper-class":"shiki twoslash-floating vp-copy-ignore",theme:"twoslash"},{popper:t(({})=>[...i[15]||(i[15]=[s("span",{class:"twoslash-popup-container vp-copy-ignore"},[s("code",{class:"twoslash-popup-code"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"function"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," defineConfig"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),s("span",{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"}},"config"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},":"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," UserConfig"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},":"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," UserConfig"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," (+"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"5"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," overloads"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")")]),s("div",{class:"twoslash-popup-docs vp-doc"},[s("p",null,`Type helper to make it easier to use vite.config.ts
accepts a direct`),l(`
`),s("p",null,"UserConfig"),l(`
`),s("p",null,`object, or a function that returns it.
The function receives a`),l(`
`),s("p",null,"ConfigEnv"),l(`
`),s("p",null,"object.")])],-1)])]),default:t(()=>[i[16]||(i[16]=s("span",null,"defineConfig",-1))]),_:1})]),i[20]||(i[20]=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"({",-1))]),i[37]||(i[37]=l(`
`,-1)),s("span",A,[i[23]||(i[23]=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  ",-1)),s("span",b,[n(p,{class:"twoslash-hover","popper-class":"shiki twoslash-floating vp-copy-ignore",theme:"twoslash"},{popper:t(({})=>[...i[21]||(i[21]=[s("span",{class:"twoslash-popup-container vp-copy-ignore"},[s("code",{class:"twoslash-popup-code"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"UserConfig.plugins"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"?:"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," PluginOption[] "),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," undefined")]),s("div",{class:"twoslash-popup-docs vp-doc"},[s("p",null,"Array of vite plugins to use.")])],-1)])]),default:t(()=>[i[22]||(i[22]=s("span",null,"plugins",-1))]),_:1})]),i[24]||(i[24]=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": [",-1))]),i[38]||(i[38]=l(`
`,-1)),s("span",m,[i[27]||(i[27]=s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"    ",-1)),s("span",B,[n(p,{class:"twoslash-hover","popper-class":"shiki twoslash-floating vp-copy-ignore",theme:"twoslash"},{popper:t(({})=>[...i[25]||(i[25]=[s("span",{class:"twoslash-popup-container vp-copy-ignore"},[s("code",{class:"twoslash-popup-code"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"import"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," legacy")])],-1)])]),default:t(()=>[i[26]||(i[26]=s("span",null,"legacy",-1))]),_:1})]),i[28]||(i[28]=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"({",-1))]),i[39]||(i[39]=l(`
`,-1)),s("span",D,[i[31]||(i[31]=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"      ",-1)),s("span",T,[n(p,{class:"twoslash-hover","popper-class":"shiki twoslash-floating vp-copy-ignore",theme:"twoslash"},{popper:t(({})=>[...i[29]||(i[29]=[s("span",{class:"twoslash-popup-container vp-copy-ignore"},[s("code",{class:"twoslash-popup-code"},[s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}},"targets"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": string[]")])],-1)])]),default:t(()=>[i[30]||(i[30]=s("span",null,"targets",-1))]),_:1})]),i[32]||(i[32]=a('<span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;defaults&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;not IE 11&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span>',5))]),i[40]||(i[40]=a(`
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>`,6))])])])]),i[141]||(i[141]=a('<p><code>plugins</code> 也可以接受包含多个插件作为单个元素的预设。这对于使用多个插件实现的复杂特性（如框架集成）很有用。该数组将在内部被扁平化。</p><p>Falsy 虚值的插件将被忽略，可以用来轻松地启用或停用插件。</p><h2 id="finding-plugins" tabindex="-1">查找插件 <a class="header-anchor" href="#finding-plugins" aria-label="Permalink to “查找插件”">​</a></h2><div class="tip custom-block"><p class="custom-block-title">注意</p><p>Vite 旨在为常见的 Web 开发范式提供开箱即用的支持。在寻找一个 Vite 或兼容的 Rollup 插件之前，请先查看 <a href="./../guide/features">功能指引</a>。大量在 Rollup 项目中需要使用插件的用例在 Vite 中已经覆盖到了。</p></div><p>查看 <a href="./../plugins/">Plugins 章节</a> 获取官方插件信息。发布到 npm 的社区插件列在 <a href="https://registry.vite.dev/plugins" target="_blank" rel="noreferrer">Vite 插件注册表</a> 中。</p><h2 id="enforcing-plugin-ordering" tabindex="-1">强制插件排序 <a class="header-anchor" href="#enforcing-plugin-ordering" aria-label="Permalink to “强制插件排序”">​</a></h2><p>为了与某些 Rollup 插件兼容，可能需要强制修改插件的执行顺序，或者只在构建时使用。这应该是 Vite 插件的实现细节。可以使用 <code>enforce</code> 修饰符来强制插件的位置:</p><ul><li><code>pre</code>：在 Vite 核心插件之前调用该插件</li><li>默认：在 Vite 核心插件之后调用该插件</li><li><code>post</code>：在 Vite 构建插件之后调用该插件</li></ul>',8)),s("div",P,[i[90]||(i[90]=s("div",{class:"vp-code-block-title-bar"},[s("span",{class:"vp-code-block-title-text","data-title":"vite.config.js"},"vite.config.js")],-1)),s("div",j,[i[88]||(i[88]=s("button",{title:"Copy Code",class:"copy"},null,-1)),i[89]||(i[89]=s("span",{class:"lang"},"js",-1)),s("pre",V,[s("code",null,[s("span",S,[i[46]||(i[46]=s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"import",-1)),i[47]||(i[47]=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," ",-1)),s("span",U,[n(p,{class:"twoslash-hover","popper-class":"shiki twoslash-floating vp-copy-ignore",theme:"twoslash"},{popper:t(({})=>[...i[44]||(i[44]=[s("span",{class:"twoslash-popup-container vp-copy-ignore"},[s("code",{class:"twoslash-popup-code"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"import"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," image")])],-1)])]),default:t(()=>[i[45]||(i[45]=s("span",null,"image",-1))]),_:1})]),i[48]||(i[48]=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," ",-1)),i[49]||(i[49]=s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"from",-1)),i[50]||(i[50]=s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," '@rollup/plugin-image'",-1))]),i[78]||(i[78]=l(`
`,-1)),s("span",x,[i[53]||(i[53]=s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"import",-1)),i[54]||(i[54]=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," { ",-1)),s("span",I,[n(p,{class:"twoslash-hover","popper-class":"shiki twoslash-floating vp-copy-ignore",theme:"twoslash"},{popper:t(({})=>[...i[51]||(i[51]=[s("span",{class:"twoslash-popup-container vp-copy-ignore"},[s("code",{class:"twoslash-popup-code"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"function"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," defineConfig"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),s("span",{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"}},"config"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},":"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," UserConfig"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},":"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," UserConfig"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," (+"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"5"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," overloads"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")")]),s("div",{class:"twoslash-popup-docs vp-doc"},[s("p",null,`Type helper to make it easier to use vite.config.ts
accepts a direct`),l(`
`),s("p",null,"UserConfig"),l(`
`),s("p",null,`object, or a function that returns it.
The function receives a`),l(`
`),s("p",null,"ConfigEnv"),l(`
`),s("p",null,"object.")])],-1)])]),default:t(()=>[i[52]||(i[52]=s("span",null,"defineConfig",-1))]),_:1})]),i[55]||(i[55]=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," } ",-1)),i[56]||(i[56]=s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"from",-1)),i[57]||(i[57]=s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 'vite'",-1))]),i[79]||(i[79]=l(`
`,-1)),i[80]||(i[80]=s("span",{class:"line"},null,-1)),i[81]||(i[81]=l(`
`,-1)),s("span",R,[i[60]||(i[60]=s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"export",-1)),i[61]||(i[61]=s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," default",-1)),i[62]||(i[62]=s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," ",-1)),s("span",N,[n(p,{class:"twoslash-hover","popper-class":"shiki twoslash-floating vp-copy-ignore",theme:"twoslash"},{popper:t(({})=>[...i[58]||(i[58]=[s("span",{class:"twoslash-popup-container vp-copy-ignore"},[s("code",{class:"twoslash-popup-code"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"function"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," defineConfig"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),s("span",{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"}},"config"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},":"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," UserConfig"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},":"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," UserConfig"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," (+"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"5"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," overloads"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")")]),s("div",{class:"twoslash-popup-docs vp-doc"},[s("p",null,`Type helper to make it easier to use vite.config.ts
accepts a direct`),l(`
`),s("p",null,"UserConfig"),l(`
`),s("p",null,`object, or a function that returns it.
The function receives a`),l(`
`),s("p",null,"ConfigEnv"),l(`
`),s("p",null,"object.")])],-1)])]),default:t(()=>[i[59]||(i[59]=s("span",null,"defineConfig",-1))]),_:1})]),i[63]||(i[63]=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"({",-1))]),i[82]||(i[82]=l(`
`,-1)),s("span",$,[i[66]||(i[66]=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  ",-1)),s("span",O,[n(p,{class:"twoslash-hover","popper-class":"shiki twoslash-floating vp-copy-ignore",theme:"twoslash"},{popper:t(({})=>[...i[64]||(i[64]=[s("span",{class:"twoslash-popup-container vp-copy-ignore"},[s("code",{class:"twoslash-popup-code"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"UserConfig.plugins"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"?:"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," PluginOption[] "),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," undefined")]),s("div",{class:"twoslash-popup-docs vp-doc"},[s("p",null,"Array of vite plugins to use.")])],-1)])]),default:t(()=>[i[65]||(i[65]=s("span",null,"plugins",-1))]),_:1})]),i[67]||(i[67]=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": [",-1))]),i[83]||(i[83]=l(`
`,-1)),i[84]||(i[84]=s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    {")],-1)),i[85]||(i[85]=l(`
`,-1)),s("span",L,[i[70]||(i[70]=s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"      ...",-1)),s("span",q,[n(p,{class:"twoslash-hover","popper-class":"shiki twoslash-floating vp-copy-ignore",theme:"twoslash"},{popper:t(({})=>[...i[68]||(i[68]=[s("span",{class:"twoslash-popup-container vp-copy-ignore"},[s("code",{class:"twoslash-popup-code"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"import"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," image")])],-1)])]),default:t(()=>[i[69]||(i[69]=s("span",null,"image",-1))]),_:1})]),i[71]||(i[71]=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(),",-1))]),i[86]||(i[86]=l(`
`,-1)),s("span",H,[i[74]||(i[74]=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"      ",-1)),s("span",J,[n(p,{class:"twoslash-hover","popper-class":"shiki twoslash-floating vp-copy-ignore",theme:"twoslash"},{popper:t(({})=>[...i[72]||(i[72]=[s("span",{class:"twoslash-popup-container vp-copy-ignore"},[s("code",{class:"twoslash-popup-code"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"Plugin"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"<"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"any"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},">"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},".enforce"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"?:"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "pre"'),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "post"'),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," undefined")]),s("div",{class:"twoslash-popup-docs vp-doc"},[s("p",null,[l(`Enforce plugin invocation tier similar to webpack loaders. Hooks ordering
is still subject to the `),s("code",null,"order"),l(" property in the hook object.")]),l(`
`),s("p",null,"Plugin invocation order:"),l(`
`),s("ul",null,[l(`
`),s("li",null,"alias resolution"),l(`
`),s("li",null,[s("code",null,"enforce: 'pre'"),l(" plugins")]),l(`
`),s("li",null,"vite core plugins"),l(`
`),s("li",null,"normal plugins"),l(`
`),s("li",null,"vite build plugins"),l(`
`),s("li",null,[s("code",null,"enforce: 'post'"),l(" plugins")]),l(`
`),s("li",null,"vite build post plugins"),l(`
`)])])],-1)])]),default:t(()=>[i[73]||(i[73]=s("span",null,"enforce",-1))]),_:1})]),i[75]||(i[75]=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": ",-1)),i[76]||(i[76]=s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"'pre'",-1)),i[77]||(i[77]=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},",",-1))]),i[87]||(i[87]=a(`
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>`,6))])])])]),i[142]||(i[142]=a('<p>查看 <a href="./api-plugin#plugin-ordering">插件 API</a> 获取细节信息</p><h2 id="conditional-application" tabindex="-1">按需应用 <a class="header-anchor" href="#conditional-application" aria-label="Permalink to “按需应用”">​</a></h2><p>默认情况下插件在开发 (serve) 和生产 (build) 模式中都会调用。如果插件在服务或构建期间按需使用，请使用 <code>apply</code> 属性指明它们仅在 <code>&#39;build&#39;</code> 或 <code>&#39;serve&#39;</code> 模式时调用：</p>',3)),s("div",W,[i[137]||(i[137]=s("div",{class:"vp-code-block-title-bar"},[s("span",{class:"vp-code-block-title-text","data-title":"vite.config.js"},"vite.config.js")],-1)),s("div",z,[i[135]||(i[135]=s("button",{title:"Copy Code",class:"copy"},null,-1)),i[136]||(i[136]=s("span",{class:"lang"},"js",-1)),s("pre",G,[s("code",null,[s("span",K,[i[93]||(i[93]=s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"import",-1)),i[94]||(i[94]=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," ",-1)),s("span",M,[n(p,{class:"twoslash-hover","popper-class":"shiki twoslash-floating vp-copy-ignore",theme:"twoslash"},{popper:t(({})=>[...i[91]||(i[91]=[s("span",{class:"twoslash-popup-container vp-copy-ignore"},[s("code",{class:"twoslash-popup-code"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"import"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," typescript2")])],-1)])]),default:t(()=>[i[92]||(i[92]=s("span",null,"typescript2",-1))]),_:1})]),i[95]||(i[95]=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," ",-1)),i[96]||(i[96]=s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"from",-1)),i[97]||(i[97]=s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 'rollup-plugin-typescript2'",-1))]),i[125]||(i[125]=l(`
`,-1)),s("span",Q,[i[100]||(i[100]=s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"import",-1)),i[101]||(i[101]=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," { ",-1)),s("span",X,[n(p,{class:"twoslash-hover","popper-class":"shiki twoslash-floating vp-copy-ignore",theme:"twoslash"},{popper:t(({})=>[...i[98]||(i[98]=[s("span",{class:"twoslash-popup-container vp-copy-ignore"},[s("code",{class:"twoslash-popup-code"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"function"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," defineConfig"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),s("span",{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"}},"config"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},":"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," UserConfig"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},":"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," UserConfig"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," (+"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"5"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," overloads"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")")]),s("div",{class:"twoslash-popup-docs vp-doc"},[s("p",null,`Type helper to make it easier to use vite.config.ts
accepts a direct`),l(`
`),s("p",null,"UserConfig"),l(`
`),s("p",null,`object, or a function that returns it.
The function receives a`),l(`
`),s("p",null,"ConfigEnv"),l(`
`),s("p",null,"object.")])],-1)])]),default:t(()=>[i[99]||(i[99]=s("span",null,"defineConfig",-1))]),_:1})]),i[102]||(i[102]=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," } ",-1)),i[103]||(i[103]=s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"from",-1)),i[104]||(i[104]=s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}}," 'vite'",-1))]),i[126]||(i[126]=l(`
`,-1)),i[127]||(i[127]=s("span",{class:"line"},null,-1)),i[128]||(i[128]=l(`
`,-1)),s("span",Y,[i[107]||(i[107]=s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"export",-1)),i[108]||(i[108]=s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," default",-1)),i[109]||(i[109]=s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," ",-1)),s("span",Z,[n(p,{class:"twoslash-hover","popper-class":"shiki twoslash-floating vp-copy-ignore",theme:"twoslash"},{popper:t(({})=>[...i[105]||(i[105]=[s("span",{class:"twoslash-popup-container vp-copy-ignore"},[s("code",{class:"twoslash-popup-code"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"function"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," defineConfig"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"("),s("span",{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"}},"config"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},":"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," UserConfig"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},":"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," UserConfig"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," (+"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"5"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," overloads"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},")")]),s("div",{class:"twoslash-popup-docs vp-doc"},[s("p",null,`Type helper to make it easier to use vite.config.ts
accepts a direct`),l(`
`),s("p",null,"UserConfig"),l(`
`),s("p",null,`object, or a function that returns it.
The function receives a`),l(`
`),s("p",null,"ConfigEnv"),l(`
`),s("p",null,"object.")])],-1)])]),default:t(()=>[i[106]||(i[106]=s("span",null,"defineConfig",-1))]),_:1})]),i[110]||(i[110]=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"({",-1))]),i[129]||(i[129]=l(`
`,-1)),s("span",c,[i[113]||(i[113]=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"  ",-1)),s("span",_,[n(p,{class:"twoslash-hover","popper-class":"shiki twoslash-floating vp-copy-ignore",theme:"twoslash"},{popper:t(({})=>[...i[111]||(i[111]=[s("span",{class:"twoslash-popup-container vp-copy-ignore"},[s("code",{class:"twoslash-popup-code"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"UserConfig.plugins"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"?:"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," PluginOption[] "),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," undefined")]),s("div",{class:"twoslash-popup-docs vp-doc"},[s("p",null,"Array of vite plugins to use.")])],-1)])]),default:t(()=>[i[112]||(i[112]=s("span",null,"plugins",-1))]),_:1})]),i[114]||(i[114]=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": [",-1))]),i[130]||(i[130]=l(`
`,-1)),i[131]||(i[131]=s("span",{class:"line"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"    {")],-1)),i[132]||(i[132]=l(`
`,-1)),s("span",ss,[i[117]||(i[117]=s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"      ...",-1)),s("span",is,[n(p,{class:"twoslash-hover","popper-class":"shiki twoslash-floating vp-copy-ignore",theme:"twoslash"},{popper:t(({})=>[...i[115]||(i[115]=[s("span",{class:"twoslash-popup-container vp-copy-ignore"},[s("code",{class:"twoslash-popup-code"},[s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"import"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," typescript2")])],-1)])]),default:t(()=>[i[116]||(i[116]=s("span",null,"typescript2",-1))]),_:1})]),i[118]||(i[118]=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"(),",-1))]),i[133]||(i[133]=l(`
`,-1)),s("span",ls,[i[121]||(i[121]=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"      ",-1)),s("span",ts,[n(p,{class:"twoslash-hover","popper-class":"shiki twoslash-floating vp-copy-ignore",theme:"twoslash"},{popper:t(({})=>[...i[119]||(i[119]=[s("span",{class:"twoslash-popup-container vp-copy-ignore"},[s("code",{class:"twoslash-popup-code"},[s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"Plugin"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"<"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},"any"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},">"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},".apply"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"?:"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "build"'),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},' "serve"'),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}}," |"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," (("),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}},"this"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},":"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," void"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},", "),s("span",{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"}},"config"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},":"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," UserConfig"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},", "),s("span",{style:{"--shiki-light":"#E36209","--shiki-dark":"#FFAB70"}},"env"),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},":"),s("span",{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"}}," ConfigEnv"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},") "),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"=>"),s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}}," boolean) "),s("span",{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"}},"|"),s("span",{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"}}," undefined")]),s("div",{class:"twoslash-popup-docs vp-doc"},[s("p",null,"Apply the plugin only for serve or build, or on certain conditions.")])],-1)])]),default:t(()=>[i[120]||(i[120]=s("span",null,"apply",-1))]),_:1})]),i[122]||(i[122]=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},": ",-1)),i[123]||(i[123]=s("span",{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"}},"'build'",-1)),i[124]||(i[124]=s("span",{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"}},",",-1))]),i[134]||(i[134]=a(`
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>`,6))])])])]),i[143]||(i[143]=s("h2",{id:"building-plugins",tabindex:"-1"},[l("创建插件 "),s("a",{class:"header-anchor",href:"#building-plugins","aria-label":"Permalink to “创建插件”"},"​")],-1)),i[144]||(i[144]=s("p",null,[l("阅读 "),s("a",{href:"./api-plugin"},"插件 API 指引"),l(" 文档了解如何创建插件。")],-1))])}const ds=h(d,[["render",ns]]);export{rs as __pageData,ds as default};
